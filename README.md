# レシピ管理アプリケーション

## 1. ソースコード

このリポジトリに含まれる以下のファイルがソースコードです。

- `index.html`: アプリケーションのフロントエンドUI。ソートやレシピの組み合わせを選ぶ機能を確認できます。
- `style.css`
- `app.js`: データの読み込み、UI操作
- `algorithms.js`: 指定されたアルゴリズム（ソート、ナップサック問題）の実装
- `recipes.json`: レシピのサンプルデータ

また、レシピデータを追加したり管理したりすることができるレシピ管理アプリも作りました。そのソースコードは`recipe-manager`フォルダの中に入っています。

## 2. サンプルデータ

`recipes.json` に5つのレシピデータがJSON形式で含まれています。



各レシピは以下の情報を持っています。

- `id`: レシピの一意なID
- `name`: レシピ名
- `description`: レシピの説明
- `servings`: 何人分か
- `cookingTime`: 調理時間（分）
- `ingredients`: 材料のリスト（名前と量）
- `steps`: 調理手順のリスト
- `category`: 分類（主食、主菜など）
- `nutrition`: 栄養情報（カロリー、タンパク質など）

## 3. 実行方法とテスト結果

このプロジェクトのファイル一式をダウンロード後、Webブラウザでlocalhostで起動。レシピデータを追加したり削除したりすることができる機能は、http://127.0.0.1:5500/recipe-manager/index.html で確認することができます。
  
demo.mp4で動作の様子を確認することができます。

https://github.com/user-attachments/assets/24353938-2a17-485f-8f30-9c4f775bd0d2

## 2. データ構造 (`recipes.json`)

システムの中心となるデータは `recipes.json` に定義されています。その構造は以下の通りです。

### Recipe オブジェクト

| フィールド名      | 型                               | 説明                                                                 |
| ----------------- | -------------------------------- | -------------------------------------------------------------------- |
| `id`              | `Integer`                        | レシピを一意に識別する正の整数。                                     |
| `name`            | `String`                         | レシピ名。                                                           |
| `description`     | `String`                         | レシピの簡単な説明。                                                 |
| `servings`        | `Integer`                        | 何人分のレシピかを示す整数。                                         |
| `cookingTime`     | `Integer`                        | 調理にかかるおおよその時間（分）。                                   |
| `ingredients`     | `Array<Ingredient>`              | 材料のリスト。詳細は下記参照。         |
| `steps`           | `Array<String>`                  | 調理手順を順序通りに格納した文字列の配列。                           |
| `category`        | `String`                         | レシピの分類（例: "主菜", "副菜", "デザート"）。                 |
| `nutrition`       | `Nutrition`                      | 栄養情報。詳細は下記参照。            |

### Ingredient オブジェクト

| フィールド名 | 型               | 説明                                                                 |
| ------------ | ---------------- | -------------------------------------------------------------------- |
| `name`       | `String`         | 材料名。                                                             |
| `amount`     | `Number` or `null` | 量を示す数値。「少々」など数値で表せない場合は `null`。              |
| `unit`       | `String`         | 単位（例: "g", "個", "大さじ"）。`amount` が `null` の場合も単位を設定。 |

### Nutrition オブジェクト

| フィールド名    | 型       | 説明                               |
| --------------- | -------- | ---------------------------------- |
| `calories`      | `Number` | カロリー（kcal）。                 |
| `protein`       | `Number` | タンパク質量（g）。                |
| `fat`           | `Number` | 脂質量（g）。                      |
| `carbohydrates` | `Number` | 炭水化物量（g）。                  |

## 3. 工夫点

現在のデータ構造には、拡張性とプログラム上の扱いやすさを考慮した以下の工夫が施されています。

1.  **構造化された材料情報 (`ingredients`)**
    材料を単なる文字列（例: `"鶏もも肉 500g"`)ではなく、`name`, `amount`, `unit` の3つのキーを持つオブジェクトの配列としました。これにより、「レシピの分量を倍にする」といった場合に `amount` をプログラムで操作できます。

2.  **構造化された栄養情報 (`nutrition`)**
    カロリーやタンパク質といった栄養情報を `nutrition` オブジェクトとしてグループ化しました。これにより、将来的に「塩分」や「食物繊維」などの新しい栄養素を追加する際に、`Recipe`オブジェクトのトップレベルを汚すことなく、`nutrition` オブジェクト内に追加するだけで済みます。

3.  **カテゴリ分類 (`category`)**
    `"主菜"`, `"副菜"` などのカテゴリ情報を持たせることで、「主菜と副菜を組み合わせた献立を提案する」といった、より高度な機能を実現するための土台となります。

4.  **一意なID (`id`)**
    各レシピにユニークなIDを付与することで、レシピ管理機能における特定のデータの編集・削除操作を正確に行うことができます。

  
レシピデータを追加したり管理したりすることができるレシピ管理アプリにでは、レシピを追加できる機能、編集できる機能、削除できる機能を入れました。また、調理手順が長いと、全体の画面が見づらくなってしまうため、調理手順及び材料についてはトグルで開け閉めできるようにしました。レシピを追加する際、分量の項目で全角の数字を入力したときは、自動で半角に直すようにしています。


## 4. 今後の改善・拡張案

現在のデータ構造をさらに発展させるための改善案。

1.  **タグの導入**
    現在の `category` は「主菜」、「副菜」といった、単一の分類ですが、`tags: ["簡単", "お弁当向き", "イタリアン"]` のようなタグ配列を追加することで、将来的にレシピが増えた時でもすぐにレシピを見つけられるように、より多角的なレシピ検索（例：「簡単」かつ「イタリアン」）を行えるようにする。

2.  **調理手順の階層化**
    複雑なレシピに対応するため、`steps` を単なる文字列の配列から、`{ "group": "ソース作り", "tasks": ["...", "..."] }` のようなオブジェクトの配列に拡張する。それに伴い、材料の方でも、まとまりに「A」「B」といったラベルを付けられるようにすることで、後の工程で「Aを加える」といった参照行えるようにする。

3.  **画像の追加**
    `imageUrl` フィールドを追加し、完成した料理の画像のURLを格納できるようにする。また、料理手順と格納するstepsの中でも画像を貼れるようにする。

## 5. AI利用について

まず仕様書案.mdを制作し、その後、gemini cliに「仕様書案.mdに従って実装せよ」と入力して実装しました。仕様書案.mdの中の表は、まずデータ例を入力として与え、「フィールド名、型、説明の順番でマークダウン式の表をつくって」と指示して出力されたものです。うまくいっていなかった部分は手で直したり、追加でgemini cliに修正を依頼したりして実装を進めていきました。
