<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>レシピ管理アプリケーションv2</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h1>レシピ管理アプリケーションv2</h1>

    <div class="container">
        <!-- Part 1 & 3: Recipe Display -->
        <div class="recipe-section">
            <h2>レシピ一覧</h2>
            <div class="add-recipe-container">
                <button id="add-new-recipe" class="btn-add">＋ 新しいレシピを追加</button>
            </div>
            <div class="controls">
                <span>並び替え:</span>
                <button id="sort-id-asc">ID (昇順)</button>
                <button id="sort-name-asc">名前 (昇順)</button>
                <button id="sort-calories-asc">カロリー (昇順)</button>
                <button id="sort-cookingTime-asc">調理時間 (昇順)</button>
            </div>
            <div id="recipe-list" class="recipe-list-container"></div>
        </div>

        <!-- Part 2: Knapsack Problem -->
        <div class="knapsack-section">
            <h2>献立提案 (ナップサック問題)</h2>
            <p>カロリーと調理時間の上限内で、タンパク質を最大化するレシピの組み合わせを見つけます。</p>
            <form id="knapsack-form">
                <div>
                    <label for="maxCalories">カロリー上限 (kcal):</label>
                    <input type="number" id="maxCalories" value="1000" required>
                </div>
                <div>
                    <label for="maxCookingTime">調理時間上限 (分):</label>
                    <input type="number" id="maxCookingTime" value="60" required>
                </div>
                <button type="submit">献立を計算</button>
            </form>
            <div id="knapsack-result" class="knapsack-result-container"></div>
        </div>
    </div>

    <!-- Recipe Edit/Add Modal -->
    <div id="recipe-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2 id="modal-title">レシピの編集</h2>
            <form id="recipe-form">
                <input type="hidden" id="recipe-id">
                
                <div class="form-group">
                    <label for="recipe-name">レシピ名</label>
                    <input type="text" id="recipe-name" required>
                </div>
                
                <div class="form-group">
                    <label for="recipe-description">説明</label>
                    <textarea id="recipe-description" rows="3"></textarea>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="recipe-servings">分量 (人分)</label>
                        <input type="number" id="recipe-servings" min="1" required>
                        <div class="error-message"></div>
                    </div>
                    <div class="form-group">
                        <label for="recipe-cookingTime">調理時間 (分)</label>
                        <input type="number" id="recipe-cookingTime" min="1" required>
                        <div class="error-message"></div>
                    </div>
                    <div class="form-group">
                        <label for="recipe-category">カテゴリ</label>
                        <input type="text" id="recipe-category" required>
                    </div>
                </div>

                <fieldset>
                    <legend>栄養素</legend>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="recipe-calories">カロリー (kcal)</label>
                            <input type="number" id="recipe-calories" min="0" required>
                            <div class="error-message"></div>
                        </div>
                        <div class="form-group">
                            <label for="recipe-protein">タンパク質 (g)</label>
                            <input type="number" id="recipe-protein" min="0" required>
                            <div class="error-message"></div>
                        </div>
                        <div class="form-group">
                            <label for="recipe-fat">脂質 (g)</label>
                            <input type="number" id="recipe-fat" min="0" required>
                            <div class="error-message"></div>
                        </div>
                        <div class="form-group">
                            <label for="recipe-carbohydrates">炭水化物 (g)</label>
                            <input type="number" id="recipe-carbohydrates" min="0" required>
                            <div class="error-message"></div>
                        </div>
                    </div>
                </fieldset>

                <fieldset id="ingredients-fieldset">
                    <legend>材料</legend>
                    <div id="ingredients-container"></div>
                    <button type="button" id="add-ingredient" class="btn-add-small">＋ 材料を追加</button>
                </fieldset>

                <fieldset id="steps-fieldset">
                    <legend>調理手順</legend>
                    <div id="steps-container"></div>
                    <button type="button" id="add-step" class="btn-add-small">＋ 手順を追加</button>
                </fieldset>

                <div class="modal-actions">
                    <button type="submit" id="save-recipe" class="btn-save">保存</button>
                    <button type="button" id="cancel-edit" class="btn-cancel">キャンセル</button>
                </div>
            </form>
        </div>
    </div>

    <script src="algorithms.js"></script>
    <script src="app.js"></script>

</body>
</html>
